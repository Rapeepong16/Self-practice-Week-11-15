## üåü ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ

### 1. ‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Keycloak + HTTPS)
- ‡πÑ‡∏î‡πâ‡∏ù‡∏∂‡∏Å‡πÉ‡∏ä‡πâ `keycloak-js` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥ Single Sign-On (SSO) ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô/‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏≠‡∏≤‡∏ï‡πå ‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡πÇ‡∏ó‡πÄ‡∏Ñ‡∏ô‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å `tokenParsed` ‡πÄ‡∏ä‡πà‡∏ô `studentId` ‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ redirect (`redirectUri`) ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô Keycloak ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ `reserve.html` ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (GET/POST/PUT/DELETE) ‡∏ó‡∏≥‡∏ú‡πà‡∏≤‡∏ô **HTTPS** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

### 2. ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Frontend ‚Äì Backend ‡∏ú‡πà‡∏≤‡∏ô REST API
- ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏ù‡∏±‡πà‡∏á frontend ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ API ‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏£‡∏ö‡∏ä‡∏∏‡∏î:
  - `GET /students/{studentId}/declared-plan`
  - `POST /students/{studentId}/declared-plan`
  - `PUT /students/{studentId}/declared-plan`
  - `DELETE /students/{studentId}/declared-plan`
- ‡∏ù‡∏∂‡∏Å‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö (HTTP status code) ‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö ‡πÄ‡∏ä‡πà‡∏ô `200`, `201`, `204`, `404`, `409`, `5xx` ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£ ‚Äúnormalize‚Äù field ‡∏à‡∏≤‡∏Å backend ‡πÄ‡∏ä‡πà‡∏ô `planId` ‡∏Å‡∏±‡∏ö `plan_id`, `nameEng` ‡∏Å‡∏±‡∏ö `plan_name_eng` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î frontend ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏û‡∏±‡∏á‡∏á‡πà‡∏≤‡∏¢

### 3. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö (Declare / Change / Cancel)
- ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö state ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤ `reserve.html` ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£:
  - `declareMode` ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î `"declare"` ‡∏´‡∏£‡∏∑‡∏≠ `"change"`
  - `currentDeclaredPlanId` ‚Üí ‡πÄ‡∏Å‡πá‡∏ö `planId` ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
  - `currentDeclaredData` ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• declared plan ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (‡∏ó‡∏±‡πâ‡∏á‡∏Å‡∏£‡∏ì‡∏µ DECLARED ‡πÅ‡∏•‡∏∞ CANCELLED)
- ‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `updateButtonsState()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÄ‡∏ä‡πà‡∏ô
  - ‡πÇ‡∏´‡∏°‡∏î declare ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏Ñ‡πà‡∏õ‡∏∏‡πà‡∏° **Declare**
  - ‡πÇ‡∏´‡∏°‡∏î change ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏° **Change** + **Cancel Declaration**
  - ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **Change** ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• study plan ‡∏à‡∏≤‡∏Å `/study-plans` ‡∏°‡∏≤‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô `<select>` ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏™‡πà‡∏Ñ‡∏•‡∏≤‡∏™ `.ecors-plan-row` ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà Cypress ‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

### 4. ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö Dialog ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (UX)
- ‡∏™‡∏£‡πâ‡∏≤‡∏á dialog ‡∏Å‡∏•‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
  - ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥ (‡∏õ‡∏∏‡πà‡∏° OK) ‡∏ú‡πà‡∏≤‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `showDialog(message)`
  - ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÅ‡∏ú‡∏ô (‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏° **Cancel Declaration** ‡πÅ‡∏•‡∏∞ **Keep Declaration**) ‡∏ú‡πà‡∏≤‡∏ô `showCancelConfirmDialog()`
- ‡πÅ‡∏¢‡∏Å‡∏Ñ‡∏•‡∏≤‡∏™‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ Cypress ‡∏™‡∏±‡∏ö‡∏™‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á:
  - ‡∏õ‡∏∏‡πà‡∏° **Cancel Declaration** ‡∏´‡∏•‡∏±‡∏Å‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤
  - ‡∏õ‡∏∏‡πà‡∏° **Cancel Declaration** ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà *‡∏†‡∏≤‡∏¢‡πÉ‡∏ô* dialog
- ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô dialog ‡πÉ‡∏´‡πâ **‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏° format** ‡∏ó‡∏µ‡πà test case ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£

### 5. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞ Timezone
- ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤ ISO ‡∏à‡∏≤‡∏Å backend ‡∏î‡πâ‡∏ß‡∏¢ `Intl.DateTimeFormat` ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ Local ‡∏Ç‡∏≠‡∏á browser
- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö  
  `dd/MM/yyyy, HH:mm:ss (TimeZone)`  
  ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞ Cypress ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô  
  `25/11/2025, 12:44:28 (Asia/Bangkok)`

### 6. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤ Config ‡πÅ‡∏•‡∏∞ Environment
- ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ config ‡∏à‡∏≤‡∏Å `window.APP_CONFIG` ‡πÅ‡∏•‡∏∞ `window.keycloakConfig` / `window.KEYCLOAK_CONFIG` ‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏´‡∏•‡∏±‡∏Å ‡∏ó‡∏≥‡πÉ‡∏´‡πâ:
  - ‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á local
  - ‡∏ö‡∏ô VM ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤
  - ‡πÅ‡∏•‡∏∞‡∏ö‡∏ô public URL `bscit.sit.kmutt.ac.th`
- ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£ ‚Äú‡πÅ‡∏¢‡∏Å config ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‚Äù (config-driven) ‡∏ã‡∏∂‡πà‡∏á‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ deploy ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô

### 7. ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≤‡∏ô Automated Test (Cypress)
- ‡∏≠‡πà‡∏≤‡∏ô test case ‡∏Ç‡∏≠‡∏á Cypress ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏•‡πà implement ‡πÉ‡∏´‡πâ behavior ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà test ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
- ‡∏ù‡∏∂‡∏Å‡πÉ‡∏´‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡πÄ‡∏ä‡πà‡∏ô:
  - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡πÄ‡∏õ‡πä‡∏∞
  - ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡πâ‡∏≠‡∏á ‚Äú‡∏ã‡πà‡∏≠‡∏ô‚Äù ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Ñ‡πà ‚Äúdisabled‚Äù
  - ‡∏Ñ‡πà‡∏≤ `<select>` ‡∏´‡∏•‡∏±‡∏á‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏á error ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á (`''`) ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà Cypress ‡∏ï‡∏£‡∏ß‡∏à
- ‡πÑ‡∏î‡πâ mindset ‡∏ß‡πà‡∏≤ automated test ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á ‚Äú‡∏™‡πÄ‡∏õ‡∏Å‚Äù ‡∏Å‡∏±‡∏ö ‚Äú‡πÇ‡∏Ñ‡πâ‡∏î‚Äù ‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≤‡∏ô test ‡πÑ‡∏î‡πâ ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û requirement ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î


### üß© ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Nginx (Reverse Proxy + HTTPS)

‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ **Nginx** ‡πÄ‡∏õ‡πá‡∏ô reverse proxy ‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á

- ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡πÑ‡∏ü‡∏•‡πå static ‡∏Ç‡∏≠‡∏á frontend (HTML, CSS, JS)
- ‡∏¢‡∏¥‡∏á‡∏ï‡πà‡∏≠ request `/api/...` ‡πÑ‡∏õ‡∏´‡∏≤ backend (Node/Express)
- ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô **HTTPS** ‡∏ï‡∏≤‡∏° requirement ‡∏Ç‡∏≠‡∏á PBI8

‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥/‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Nginx ‡∏°‡∏µ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ

#### 1. ‡πÅ‡∏¢‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Frontend ‡∏Å‡∏±‡∏ö Backend ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

‡πÄ‡∏£‡∏≤‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö path ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ï‡πâ prefix ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô  

- Frontend:  
  `https://bscit.sit.kmutt.ac.th/intproj25/ms1/itb-ecors/`
- Backend API:  
  `https://bscit.sit.kmutt.ac.th/intproj25/ms1/itb-ecors/api/v1/...`

‡πÉ‡∏ô Nginx ‡∏à‡∏∂‡∏á‡∏°‡∏µ 2 block ‡∏´‡∏•‡∏±‡∏Å ‡πÜ

```nginx
# 1) ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡πÑ‡∏ü‡∏•‡πå frontend
location /intproj25/ms1/itb-ecors/ {
    alias /usr/share/nginx/html/intproj25/ms1/itb-ecors/;
    index index.html;
    # ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏£‡∏á ‡πÜ ‡πÉ‡∏´‡πâ‡∏ï‡∏Å‡πÑ‡∏õ‡∏ó‡∏µ‡πà index.html (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ reserve.html)
    try_files $uri $uri/ /intproj25/ms1/itb-ecors/index.html;
}

# 2) ‡∏¢‡∏¥‡∏á /api ‡πÑ‡∏õ backend
location ^~ /intproj25/ms1/itb-ecors/api/ {
    # ‡∏ï‡∏±‡∏î prefix ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏°‡∏õ‡πÑ‡∏õ path ‡∏Ç‡∏≠‡∏á backend
    rewrite ^/intproj25/ms1/itb-ecors/api/v1/(.*)$ /api/v1/$1 break;

    proxy_pass http://studyplans-backend:3000;

    proxy_http_version 1.1;
    proxy_set_header Host              $host;
    proxy_set_header X-Real-IP         $remote_addr;
    proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}
```
#### 2. ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ HTTPS (HTTP ‚Üí HTTPS Redirect)
- ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ test ‡πÄ‡∏Ñ‡∏™ PBI8 ‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏≥ CRUD ‡∏ú‡πà‡∏≤‡∏ô HTTPS ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¢‡∏ï‡∏±‡πâ‡∏á Nginx ‡πÅ‡∏ö‡∏ö
```nginx
# redirect HTTP -> HTTPS
server {
    listen 80;
    server_name bscit.sit.kmutt.ac.th;
    return 301 https://$host$request_uri;
}

# HTTPS server
server {
    listen 443 ssl;
    server_name bscit.sit.kmutt.ac.th;

    ssl_certificate     /etc/nginx/certs/intproj25.crt;
    ssl_certificate_key /etc/nginx/certs/intproj25.key;

    # (‡πÉ‡∏™‡πà location ‡∏Ç‡∏≠‡∏á frontend + api ‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô)
}
```
#### 4. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö Frontend (Vite config)

- ‡∏ù‡∏±‡πà‡∏á frontend ‡πÄ‡∏£‡∏≤‡∏ï‡∏±‡πâ‡∏á base ‡πÅ‡∏•‡∏∞ outDir ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö path ‡πÉ‡∏ô Nginx
```nginx
// vite.config.js
export default defineConfig({
  base: '/intproj25/ms1/itb-ecors/',
  build: {
    outDir: 'dist/intproj25/ms1/itb-ecors',
    // ...
  }
})
```
#### ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏∑‡∏≠

- ‡∏ñ‡πâ‡∏≤ base ‡πÉ‡∏ô Vite ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö location ‡πÉ‡∏ô Nginx ‚Üí ‡πÑ‡∏ü‡∏•‡πå JS/CSS ‡∏à‡∏∞‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ (404)
- ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå build ‡πÉ‡∏ô path ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö alias ‡∏Ç‡∏≠‡∏á Nginx ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ deploy ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏á‡∏á